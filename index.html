<!DOCTYPE html>
<html lang="中文">
  <head>
    
<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">















  <link rel="alternate" href="/atom.xml" title="知秋">




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=2.6.0" />



<link rel="canonical" href="https://hqiwen.github.io/"/>


<link rel="stylesheet" type="text/css" href="/css/style.css?v=2.6.0" />






  



  <script id="baidu_push">
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>





  <script src="//cdn1.lncld.net/static/js/3.1.1/av-min.js"></script>
  <script id="leancloud">
    AV.init({
      appId: "OLgpRILkJfrsQUHnazHgGRve-gzGzoHsz",
      appKey: "vuP6IIUzplnBML7dVYUiC1ES"
    });
  </script>





    <title> 知秋 </title>
  </head>

  <body><div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/." class="logo">知秋</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>

<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    
      <a href="/">
        <li class="mobile-menu-item">
          
          
            首页
          
        </li>
      </a>
    
      <a href="/archives/">
        <li class="mobile-menu-item">
          
          
            归档
          
        </li>
      </a>
    
      <a href="/categories/编程">
        <li class="mobile-menu-item">
          
          
            编程
          
        </li>
      </a>
    
      <a href="/categories/算法">
        <li class="mobile-menu-item">
          
          
            算法
          
        </li>
      </a>
    
      <a href="/categories/随笔">
        <li class="mobile-menu-item">
          
          
            随笔
          
        </li>
      </a>
    
  </ul>
</nav>

    <div class="container" id="mobile-panel">
      <header id="header" class="header"><div class="logo-wrapper">
  <a href="/." class="logo">知秋</a>
</div>

<nav class="site-navbar">
  
    <ul id="menu" class="menu">
      
        <li class="menu-item">
          <a class="menu-item-link" href="/">
            
            
              首页
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/archives/">
            
            
              归档
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/categories/编程">
            
            
              编程
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/categories/算法">
            
            
              算法
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/categories/随笔">
            
            
              随笔
            
          </a>
        </li>
      
    </ul>
  
</nav>

      </header>

      <main id="main" class="main">
        <div class="content-wrapper">
          <div id="content" class="content">
            
  <section id="posts" class="posts">
    
      
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2019/03/10/数据结构之排序/">数据结构之排序</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          2019-03-10
        </span>
        
          <div class="post-category">
            
              <a href="/categories/算法/">算法</a>
            
          </div>
        
        
        <div class="post-visits"
             data-url="/2019/03/10/数据结构之排序/"
             data-title="数据结构之排序">
            阅读次数
          </div>
        
      </div>
    </header>

    
    

    <div class="post-content">
      
        
        
          
        

        
          <p>排序就是将一组对象按照某种逻辑重新排列的过程。</p>
<h2 id="初级排序算法"><a href="#初级排序算法" class="headerlink" title="初级排序算法"></a>初级排序算法</h2><h3 id="选择排序"><a href="#选择排序" class="headerlink" title="选择排序"></a>选择排序</h3><p>不断重复找到最小的元素，移到相应位置。{0-N} = {0, 1, 2,..N}, {n} = swap( nums[n], min{ nums[n~nums.length] } )</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> nums = [<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">2</span>,<span class="number">4</span>];</div><div class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i =<span class="number">0</span>; i&lt; nums.length; i++) &#123;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> j = i; j &lt; nums.length; j++) &#123;</div><div class="line">        minNum = min(minNum, nums[j]);</div><div class="line">    &#125;</div><div class="line">    swap(minNum, nums[i]);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>有 N 次交换和N+(N-1)+..+2+1~N^2/2次比较</p>
<h3 id="插入排序"><a href="#插入排序" class="headerlink" title="插入排序"></a>插入排序</h3><p>每次将一个数插入有序数组的适当位置。{0-N} = {0, 1, 2,..N},{n} = { nums[0~n]}.swap( less(nums[n], nums[n-1]) )</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span>(<span class="keyword">let</span> i=<span class="number">0</span>;i&lt;nums.length; i++) &#123;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">let</span> j = i; j &gt;<span class="number">0</span>; j--)&#123;</div><div class="line">        <span class="keyword">if</span>(num[j] &lt; nums[j<span class="number">-1</span>]) &#123;</div><div class="line">            swap(nums[j], nums[j<span class="number">-1</span>]);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>插入排序所需的时间与输入的元素的初始顺序有关，最坏情况下需要N^2/2次比较和N^2/2次交换，最好需要N-1次比较和0次交换<br>
          <div class="read-more">
            <a href="/2019/03/10/数据结构之排序/" class="read-more-link">阅读更多</a>
          </div>
        
      
    </div>

    

    

  </article>

    
      
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2019/03/10/web服务器框架原理/">web服务器框架原理</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          2019-03-10
        </span>
        
          <div class="post-category">
            
              <a href="/categories/编程/">编程</a>
            
          </div>
        
        
        <div class="post-visits"
             data-url="/2019/03/10/web服务器框架原理/"
             data-title="web服务器框架原理">
            阅读次数
          </div>
        
      </div>
    </header>

    
    

    <div class="post-content">
      
        
        
          
        

        
          <h2 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h2><p>通过一个数组收集中间件，然后通过算法让其依次执行，平常所写的业务代码被收集起来，交给框架去最优化运行</p>
<h3 id="命名空间"><a href="#命名空间" class="headerlink" title="命名空间"></a>命名空间</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> app = &#123;</div><div class="line">    stacks: [];</div><div class="line">&#125;;</div><div class="line"><span class="comment">//监听http请求</span></div><div class="line">app.listen = <span class="function"><span class="keyword">function</span> (<span class="params">...args</span>) </span>&#123;</div><div class="line">    <span class="keyword">const</span> server = http.createServer(app.callback);</div><div class="line">    <span class="keyword">return</span> server.listen(...args);</div><div class="line">&#125;;</div><div class="line"><span class="built_in">module</span>.exports = app;</div></pre></td></tr></table></figure>
<h3 id="实例收集"><a href="#实例收集" class="headerlink" title="实例收集"></a>实例收集</h3><p>通过app.use收集要使用的中间件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">app.use = <span class="function"><span class="keyword">function</span>(<span class="params">fn</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span>(<span class="keyword">typeof</span> fn === <span class="string">"function"</span>)&#123;</div><div class="line">        <span class="keyword">throw</span>(<span class="string">'middleware must be a function'</span>)</div><div class="line">    &#125;</div><div class="line">    app.stacks.push(fn);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="算法与运行时"><a href="#算法与运行时" class="headerlink" title="算法与运行时"></a>算法与运行时</h3><p>数组的链式调用</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">app.callback = <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123;</div><div class="line">    dispatch(req, res, app.stacks);</div><div class="line">&#125;</div><div class="line"><span class="comment">//每当有请求传来，就调用中间件数组</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">dispatch</span>(<span class="params">req, res, stack</span>) </span>&#123;</div><div class="line">    <span class="keyword">let</span> next = <span class="function"><span class="keyword">function</span> (<span class="params">err</span>) </span>&#123;</div><div class="line">        <span class="keyword">if</span> (err) &#123;</div><div class="line">            <span class="keyword">return</span> handleError(err, req, res, stack);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">let</span> middleware = stack.shift();</div><div class="line">        <span class="keyword">if</span> (middleware) &#123;</div><div class="line">            <span class="keyword">try</span> &#123;</div><div class="line">                <span class="comment">//next传递给下一个中间件，形成尾调用</span></div><div class="line">                middleware(req, res, next);</div><div class="line">            &#125; <span class="keyword">catch</span> (err) &#123;</div><div class="line">                next(err);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;;</div><div class="line"></div><div class="line">    next();</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="中间件"><a href="#中间件" class="headerlink" title="中间件"></a>中间件</h3><p>中间件是一个函数，function(req, res, next),<em>req</em>是IncomingMessage对象，<em>res</em>是ServerResponse对象,next函数调用下一个中间件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> query =  <span class="function"><span class="keyword">function</span> <span class="title">query</span>(<span class="params">options</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> opts = merge(&#123;&#125;, options);</div><div class="line">    <span class="keyword">var</span> queryparse = qs.parse;</div><div class="line"></div><div class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> options === <span class="string">"function"</span>) &#123;</div><div class="line">        queryparse = options;</div><div class="line">        opts = <span class="literal">undefined</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="title">query</span>(<span class="params">req, res, next</span>) </span>&#123;</div><div class="line">        <span class="keyword">if</span> (!req.query) &#123;</div><div class="line">            <span class="keyword">var</span> val = url.parse(req.url).query;</div><div class="line">            req.query = queryparse(val, opts);</div><div class="line">        &#125;</div><div class="line">        next();</div><div class="line">    &#125;;</div><div class="line">&#125;;</div><div class="line">app.use(query());</div></pre></td></tr></table></figure>
          <div class="read-more">
            <a href="/2019/03/10/web服务器框架原理/" class="read-more-link">阅读更多</a>
          </div>
        
      
    </div>

    

    

  </article>

    
      
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2018/11/16/计算机系统构造第二期/">计算机系统构造第二期</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          2018-11-16
        </span>
        
          <div class="post-category">
            
              <a href="/categories/编程/">编程</a>
            
          </div>
        
        
        <div class="post-visits"
             data-url="/2018/11/16/计算机系统构造第二期/"
             data-title="计算机系统构造第二期">
            阅读次数
          </div>
        
      </div>
    </header>

    
    

    <div class="post-content">
      
        
        
          
        

        
          <h2 id="模块化、对象和状态"><a href="#模块化、对象和状态" class="headerlink" title="模块化、对象和状态"></a>模块化、对象和状态</h2><p>我们关于世界的常规观点之一，就是将它看作聚集在一起的许多独立对象，每个对象都有自己随着时间变化的状态。所谓一个对象有<strong>状态</strong>，也就是说<strong>它的行为受到它的历史的影响</strong>。</p>
<h3 id="赋值与局部状态"><a href="#赋值与局部状态" class="headerlink" title="赋值与局部状态"></a>赋值与局部状态</h3><p>假定开始账户里有100元钱，在不断使用withdraw的过程中可以得到以下响应序列：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">withdraw(<span class="number">25</span>) <span class="comment">// 75</span></div><div class="line">withdraw(<span class="number">25</span>) <span class="comment">// 50</span></div><div class="line">withdraw(<span class="number">60</span>) <span class="comment">//余额不足</span></div></pre></td></tr></table></figure>
<p>可以看到每次执行withdraw的结果不同，我们用一个变量balance去表示账户里的现金余额</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">let</span> balance = <span class="number">100</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">withdraw</span>(<span class="params">amount</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span>(amount &gt; balance)&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">"余额不足"</span>);</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        balance -= amount;</div><div class="line">        <span class="built_in">console</span>.log(balance);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">withdraw(<span class="number">50</span>);<span class="comment">// 50</span></div><div class="line">withdraw(<span class="number">20</span>);<span class="comment">// 30</span></div><div class="line">withdraw(<span class="number">20</span>);<span class="comment">// 10</span></div><div class="line">----------------------------------</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">new_withdraw</span>(<span class="params">amount</span>) </span>&#123;</div><div class="line">    <span class="keyword">let</span> balance = <span class="number">100</span>;</div><div class="line">    <span class="keyword">if</span> (amount &gt; balance) &#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">"余额不足"</span>);</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        balance -= amount;</div><div class="line">        <span class="built_in">console</span>.log(balance);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> balance;</div><div class="line">&#125;;</div><div class="line">w1 = new_withdraw(<span class="number">50</span>);<span class="comment">// 50</span></div><div class="line">w2 = new_withdraw(<span class="number">20</span>);<span class="comment">// 80</span></div><div class="line">w3 = new_withdraw(<span class="number">20</span>);<span class="comment">// 80</span></div></pre></td></tr></table></figure>
<p>可以看到w1、w2、w3是各自独立的，互不影响，与所有状态都必须显式地操作和传递额外参数的方式相比，通过引进赋值和将状态隐藏在局部变量中的技术，我们能以一种更模块化的方式构造系统。<br>
          <div class="read-more">
            <a href="/2018/11/16/计算机系统构造第二期/" class="read-more-link">阅读更多</a>
          </div>
        
      
    </div>

    

    

  </article>

    
      
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2018/11/09/计算机系统构造/">计算机系统构造浅解第一期</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          2018-11-09
        </span>
        
          <div class="post-category">
            
              <a href="/categories/编程/">编程</a>
            
          </div>
        
        
        <div class="post-visits"
             data-url="/2018/11/09/计算机系统构造/"
             data-title="计算机系统构造浅解第一期">
            阅读次数
          </div>
        
      </div>
    </header>

    
    

    <div class="post-content">
      
        
        
          
        

        
          <h2 id="程序设计的基本元素"><a href="#程序设计的基本元素" class="headerlink" title="程序设计的基本元素"></a>程序设计的基本元素</h2><ol>
<li><strong>基本表达式</strong>，用于表示语言关心的最简单个体。</li>
<li><strong>组合的方法</strong>，通过它们可以从简单的东西出发构造出符合的元素。</li>
<li><strong>抽象的方法</strong>，通过它们可以为复合对象命名，并将它们当做单元去操作。</li>
</ol>
<p>在程序设计中，我们需要处理两类要素：过程和数据。数据是一种我们希望去操作的“东西”，而过程就是有关操作这些数据的规则的描述。</p>
<h2 id="抽象过程"><a href="#抽象过程" class="headerlink" title="抽象过程"></a>抽象过程</h2><h3 id="数据参数化"><a href="#数据参数化" class="headerlink" title="数据参数化"></a>数据参数化</h3><p>如果我们要计算2的平方，你可能会这样写：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">result = <span class="number">2</span>*<span class="number">2</span></div></pre></td></tr></table></figure>
<p>现在我们要表达一个”平方”的概念，则有如下公式：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">square</span>(<span class="params">x</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> x * x;</div><div class="line">&#125;</div><div class="line">result = square(<span class="number">2</span>);</div></pre></td></tr></table></figure>
<p>我们提出了一个复合过程<strong>平方</strong>，从只能计算2的平方到任意数的平方，差别在于给了过程一个参数，把<strong>数据参数化</strong>，可以提高抽象性和适用性，下面用平方去定义<strong>平方和</strong>的概念；</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">squareSum</span>(<span class="params">x, y</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> square(x) + square(y);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
          <div class="read-more">
            <a href="/2018/11/09/计算机系统构造/" class="read-more-link">阅读更多</a>
          </div>
        
      
    </div>

    

    

  </article>

    
      
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2018/11/09/前后端渲染对比/">精读前后端渲染之争</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          2018-11-09
        </span>
        
          <div class="post-category">
            
              <a href="/categories/编程/">编程</a>
            
          </div>
        
        
        <div class="post-visits"
             data-url="/2018/11/09/前后端渲染对比/"
             data-title="精读前后端渲染之争">
            阅读次数
          </div>
        
      </div>
    </header>

    
    

    <div class="post-content">
      
        
        
          
        

        
          <blockquote>
<p>本文转载自<a href="https://medium.freecodecamp.com/heres-why-client-side-rendering-won-46a349fadb52" target="_blank" rel="external">Here’s why Client-side Rendering Won</a>,同时<a href="https://github.com/camsong/blog/issues/8" target="_blank" rel="external">中文翻译地址</a>，如果想获得更好的阅读体验，请阅读原文</p>
</blockquote>
<p>1 引言</p>
<p>我为什么要选这篇文章呢？</p>
<img src="/2018/11/09/前后端渲染对比/ca1b6618-2209-11e7-99ae-c2a75ad3dabb.png" alt="ca1b6618-2209-11e7-99ae-c2a75ad3dabb.png" title="">
<p>十年前，几乎所有网站都使用 ASP、Java、PHP 这类做后端渲染，但后来随着 jQuery、Angular、React、Vue 等 JS 框架的崛起，开始转向了前端渲染。从 2014 年起又开始流行了同构渲染，号称是未来，集成了前后端渲染的优点，但转眼间三年过去了，很多当时壮心满满的框架（rendr、Lazo）从先驱变成了先烈。同构到底是不是未来？自己的项目该如何选型？我想不应该只停留在追求热门和拘泥于固定模式上，忽略了前后端渲染之“争”的“核心点”，关注如何提升“用户体验”。</p>
<p>原文分析了前端渲染的优势，并没有进行深入探讨。我想以它为切入口来深入探讨一下。</p>
<p>明确三个概念：「后端渲染」指传统的 ASP、Java 或 PHP 的渲染机制；「前端渲染」指使用 JS 来渲染页面大部分内容，代表是现在流行的 SPA 单页面应用；「同构渲染」指前后端共用 JS，首次渲染时使用 Node.js 来直出 HTML。一般来说同构渲染是介于前后端中的共有部分。<br>
          <div class="read-more">
            <a href="/2018/11/09/前后端渲染对比/" class="read-more-link">阅读更多</a>
          </div>
        
      
    </div>

    

    

  </article>

    
      
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2018/11/09/使用G2重构日历/">使用G2重构日历</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          2018-11-09
        </span>
        
          <div class="post-category">
            
              <a href="/categories/编程/">编程</a>
            
          </div>
        
        
        <div class="post-visits"
             data-url="/2018/11/09/使用G2重构日历/"
             data-title="使用G2重构日历">
            阅读次数
          </div>
        
      </div>
    </header>

    
    

    <div class="post-content">
      
        
        
          
        

        
          <h2 id="G2是什么"><a href="#G2是什么" class="headerlink" title="G2是什么"></a>G2是什么</h2><blockquote>
<p><a href="https://antv.alipay.com/zh-cn/g2/3.x/tutorial/index.html" target="_blank" rel="external">G2</a>是一套基于可视化编码的图形语法，以数据驱动，具有高度的易用性和扩展性，用户无需关注各种繁琐的实现细节，一条语句即可构建出各种各样的可交互的统计图表。</p>
</blockquote>
<p>简单来说G2就是一个可视化JavaScript工具库，把传进去的数据用图表表现出来，但是不同于其他图形库，G2是基于图形语法工作的</p>
<h2 id="图形语法"><a href="#图形语法" class="headerlink" title="图形语法"></a>图形语法</h2><p>图形语法描述了我们从数据到图表的映射</p>
<img src="/2018/11/09/使用G2重构日历/dataToGraph.png" alt="从数据到图形的过程" title="从数据到图形的过程">
<ol>
<li>从数据创建变量 data -&gt; variables[set]</li>
<li>对变量集进行运算,相对比与集合的运算,找到感兴趣的研究变量(cross, blend, nest)</li>
<li>对要研究的变量进行归一化，定义变量的性质(cat, time)</li>
<li>对复杂的变量进行统计,并不是所有的变量都要进行统计</li>
<li>创建几何图形 variable -&gt; graph</li>
<li>将建立的图形放到坐标系</li>
<li>对数据进行美学优化(color, point, label)</li>
<li>得到相应图形
          <div class="read-more">
            <a href="/2018/11/09/使用G2重构日历/" class="read-more-link">阅读更多</a>
          </div>
        
      
    </div>

    

    

  </article>

    
      
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2018/10/23/一个简易的打包器/">一个简易的打包器</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          2018-10-23
        </span>
        
          <div class="post-category">
            
              <a href="/categories/编程/">编程</a>
            
          </div>
        
        
        <div class="post-visits"
             data-url="/2018/10/23/一个简易的打包器/"
             data-title="一个简易的打包器">
            阅读次数
          </div>
        
      </div>
    </header>

    
    

    <div class="post-content">
      
        
        
          
        

        
          <h2 id="依赖解析"><a href="#依赖解析" class="headerlink" title="依赖解析"></a>依赖解析</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> detective = <span class="built_in">require</span>(<span class="string">"detective"</span>);</div><div class="line"><span class="keyword">const</span> requires = detective(source);</div></pre></td></tr></table></figure>
<p>深度遍历寻找依赖，返回一个依赖数组</p>
<h2 id="源码比较简单，主要由三个函数构成"><a href="#源码比较简单，主要由三个函数构成" class="headerlink" title="源码比较简单，主要由三个函数构成"></a>源码比较简单，主要由三个函数构成</h2><h3 id="createModuleObject"><a href="#createModuleObject" class="headerlink" title="createModuleObject()"></a>createModuleObject()</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">createModuleObject</span>(<span class="params">filePath</span>) </span>&#123;</div><div class="line">  <span class="keyword">const</span> source = fs.readFileSync(filePath, <span class="string">"utf-8"</span>);</div><div class="line">  <span class="keyword">const</span> requires = detective(source);</div><div class="line">  <span class="keyword">const</span> id = ID++;</div><div class="line"></div><div class="line">  <span class="keyword">return</span> &#123;</div><div class="line">    id,</div><div class="line">    filePath,</div><div class="line">    source,</div><div class="line">    requires</div><div class="line">  &#125;;</div></pre></td></tr></table></figure>
<p> 从目录信息构造需要的模块信息,传入一个文件path路径，返回一个而文件模块对象ModuleObject</p>
<h3 id="getModules"><a href="#getModules" class="headerlink" title="getModules()"></a>getModules()</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getModules</span>(<span class="params">entry</span>) </span>&#123;</div><div class="line">  <span class="keyword">const</span> rootModule = createModuleObject(entry);</div><div class="line">  <span class="keyword">const</span> modules = [rootModule];</div><div class="line">  <span class="comment">//遍历依赖，把所有引用文件变成模块对象</span></div><div class="line">  <span class="keyword">for</span> (<span class="keyword">const</span> <span class="built_in">module</span> <span class="keyword">of</span> modules) &#123;</div><div class="line">    <span class="built_in">module</span>.map = &#123;&#125;;</div><div class="line">    <span class="built_in">module</span>.requires.forEach(<span class="function"><span class="params">dependency</span> =&gt;</span> &#123;</div><div class="line">      <span class="keyword">const</span> basedir = path.dirname(<span class="built_in">module</span>.filePath);</div><div class="line">      <span class="keyword">const</span> dependencyPath = resolve(dependency, &#123; basedir &#125;);</div><div class="line">      <span class="keyword">const</span> dependencyObject = createModuleObject(dependencyPath);</div><div class="line"></div><div class="line">      <span class="built_in">module</span>.map[dependency] = dependencyObject.id;</div><div class="line">      modules.push(dependencyObject);</div><div class="line">    &#125;);</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> modules;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
          <div class="read-more">
            <a href="/2018/10/23/一个简易的打包器/" class="read-more-link">阅读更多</a>
          </div>
        
      
    </div>

    

    

  </article>

    
      
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2018/06/09/从数据看vue组件/">从数据看vue组件</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          2018-06-09
        </span>
        
          <div class="post-category">
            
              <a href="/categories/编程/">编程</a>
            
          </div>
        
        
        <div class="post-visits"
             data-url="/2018/06/09/从数据看vue组件/"
             data-title="从数据看vue组件">
            阅读次数
          </div>
        
      </div>
    </header>

    
    

    <div class="post-content">
      
        
        
          
        

        
          <p>三大前端框架 Vue 、react 和 angular，都提到了一个概念——组件，那么什么是组件——组件（Component）是对数据和方法的简单封装。考虑一个页面，有 UI 的渲染，有状态的改变，有事件的监听。组件正是由这三个方面组成的。现在来看一个简单的组件：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">//绑定class，进行UI渲染</div><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"app"</span> <span class="attr">v-bind:class</span>=<span class="string">"container"</span>&gt;</span></div><div class="line">    //传递message值</div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>&#123;&#123; message &#125;&#125;<span class="tag">&lt;<span class="name">p</span>&gt;</span></div><div class="line">    //监听click事件</div><div class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">v-on:click</span>=<span class="string">"reverseMessage"</span>&gt;</span>逆转消息<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.container</span>&#123;</div><div class="line">    <span class="attribute">margin</span>:<span class="number">0</span>;</div><div class="line">    <span class="attribute">padding</span>:<span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
          <div class="read-more">
            <a href="/2018/06/09/从数据看vue组件/" class="read-more-link">阅读更多</a>
          </div>
        
      
    </div>

    

    

  </article>

    
      
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2018/03/30/日历插件的重构-引入request-js/">日历插件的重构--引入request.js</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          2018-03-30
        </span>
        
          <div class="post-category">
            
              <a href="/categories/编程/">编程</a>
            
          </div>
        
        
        <div class="post-visits"
             data-url="/2018/03/30/日历插件的重构-引入request-js/"
             data-title="日历插件的重构--引入request.js">
            阅读次数
          </div>
        
      </div>
    </header>

    
    

    <div class="post-content">
      
        
        
          
        

        
          <p>在项目过程和状态增加的时候，项目的复杂度增加了，如何对项目进行有效的管理？使用模块化，提炼业务代码的逻辑，有利于适应需求的快速变化。作者使用 request.js 对项目进行了简单重构，阅读源码前最好有相应的 request.js 的基础知识，这将帮助你更好的理解源码。</p>
<h2 id="request-js-介绍"><a href="#request-js-介绍" class="headerlink" title="request.js 介绍"></a>request.js 介绍</h2><p>对于不懂 request.js 的同学，可以参阅<a href="http://www.ruanyifeng.com/blog/2012/11/require_js.html" target="_blank" rel="external">阮一峰老师的教程</a>,这里介绍了 request.js 的详细用法，本文略带提一下。</p>
<blockquote>
<p>定义并引入模块</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//math.js</span></div><div class="line">define([<span class="string">"moduleA"</span>, <span class="string">"moduleB"</span>], <span class="function"><span class="keyword">function</span>(<span class="params">moduleA, moduleB</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> add = <span class="function"><span class="keyword">function</span>(<span class="params">x, y</span>) </span>&#123;</div><div class="line">        <span class="keyword">return</span> x + y;</div><div class="line">    &#125;;</div><div class="line">    <span class="comment">// moduleA some code</span></div><div class="line">    <span class="comment">// moduleB some code</span></div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">        add: add</div><div class="line">    &#125;;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<blockquote>
<p>加载模块</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">require</span>([<span class="string">"math"</span>], <span class="function"><span class="keyword">function</span>(<span class="params">math</span>) </span>&#123;</div><div class="line">    alert(math.add(<span class="number">1</span>, <span class="number">1</span>));</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
          <div class="read-more">
            <a href="/2018/03/30/日历插件的重构-引入request-js/" class="read-more-link">阅读更多</a>
          </div>
        
      
    </div>

    

    

  </article>

    
      
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          <a class="post-link" href="/2018/03/09/麻醉药/">麻醉药</a>
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          2018-03-09
        </span>
        
          <div class="post-category">
            
              <a href="/categories/随笔/">随笔</a>
            
          </div>
        
        
        <div class="post-visits"
             data-url="/2018/03/09/麻醉药/"
             data-title="麻醉药">
            阅读次数
          </div>
        
      </div>
    </header>

    
    

    <div class="post-content">
      
        
        
          
        

        
          <p>麻醉药分为全身麻醉药和局部麻醉药。全麻药是具有麻醉功能，能可逆性抑制中枢神经系统功能，引起暂时性感觉、意识和反射消失的药物。局麻药作用神经系统末梢，能暂时、可逆地阻断神经冲动的产生和传导。</p>
<img src="/2018/03/09/麻醉药/麻醉.jpg" alt="麻醉.jpg" title="">
<h2 id="麻醉四期"><a href="#麻醉四期" class="headerlink" title="麻醉四期"></a>麻醉四期</h2><table>
<thead>
<tr>
<th>麻醉分期</th>
<th>表现</th>
</tr>
</thead>
<tbody>
<tr>
<td>第一期(镇痛期)</td>
<td>麻醉给药到患者意识完全消失，出现镇痛及健忘的麻醉状态</td>
</tr>
<tr>
<td>第二期(兴奋期)</td>
<td>感觉和意识消失到外科麻醉期，患者兴奋躁动、呼吸不规则、血压不稳定</td>
</tr>
<tr>
<td>第三期(外科麻醉期)</td>
<td>患者恢复安静，呼吸和血压平稳</td>
</tr>
<tr>
<td>第四期(延髓麻醉期)</td>
<td>呼吸停止，血压剧降 </td>
</tr>
</tbody>
</table>
          <div class="read-more">
            <a href="/2018/03/09/麻醉药/" class="read-more-link">阅读更多</a>
          </div>
        
      
    </div>

    

    

  </article>

    
  </section>

  
  <nav class="pagination">
    
    
      <a class="next" href="/page/2/">
        <span class="next-text">下一页</span>
        <i class="iconfont icon-right"></i>
      </a>
    
  </nav>


          </div>
          

        </div>
      </main>

      <footer id="footer" class="footer">

  <div class="social-links">
    
      
        
          <a href="mailto:1726564970@qq.com" class="iconfont icon-email" title="email"></a>
        
      
    
      
    
      
    
      
    
      
    
      
        
          <a href="/qstund@gmial.com" class="iconfont icon-google" title="google"></a>
        
      
    
      
        
          <a href="https://github.com/hqiwen" class="iconfont icon-github" title="github"></a>
        
      
    
      
    
      
    
      
    
      
    
      
    
      
    
    
    
      <a href="/atom.xml" class="iconfont icon-rss" title="rss"></a>
    
  </div>


<div class="copyright">
  <span class="power-by">
    由 <a class="hexo-link" href="https://hexo.io/">Hexo</a> 强力驱动
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    主题 - 
    <a class="theme-link" href="https://github.com/ahonn/hexo-theme-even">Even</a>
  </span>

  <span class="copyright-year">
    
    &copy; 
     
      2015 - 
    
    2019

    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">贺启文</span>
  </span>
</div>

      </footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div>

    


    




  
    <script type="text/javascript" src="/lib/jquery/jquery-3.1.1.min.js"></script>
  

  
    <script type="text/javascript" src="/lib/slideout/slideout.js"></script>
  

  


    <script type="text/javascript" src="/js/src/even.js?v=2.6.0"></script>
<script type="text/javascript" src="/js/src/bootstrap.js?v=2.6.0"></script>

  </body>
</html>
